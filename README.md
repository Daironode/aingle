
<h1 align="center">AIngle</h1>
<h4 align="center">Version 0.0.1 </h4>


Welcome to the official Go implementation of the [AIngle](https://aingle.ai)


## Features

- Scalable lightweight universal smart contracts
- Scalable WASM contract support
- Cross-chain interactive protocol
- Multiple encryption algorithms supported
- Highly optimized transaction processing speed
- P2P link layer encryption (optional module)
- Multiple consensus algorithms supported (VBFT/DBFT/RBFT/SBFT/PoW)



## Install from Binaries
You can download a stable compiled version of the AIngle node software by either:

- Downloading a specific version from the [release section](https:// github.com/Daironode/aingle/releases).

## Build From Source

### Prerequisites

- [Golang](https://golang.org/doc/install) version 1.12 or later


### Build

Note that the code in the `master` branch may not be stable.

```
$ git clone https://github.com/Daironode/aingle.git
$ cd aingle
$ make all
```

After building the source code successfully, you should see two executable programs:

- `aingle`: The primary AIngle node application and CLI.
- `tools/sigsvr`: The AIngle Signature Server, `sigsvr` - an RPC server for signing transactions. Detailed documentation can be found [here](https://github.com/Daironode/documentation/blob/master/docs/pages/doc_en/AIngle/sigsvr_en.md).

## Run AIngle

The AIngle CLI can run nodes for the MainNet, TestNet and local PrivateNet. Check out the [AIngle CLI user guide](https:// github.com/Daironode/aingle/blob/master/docs/specifications/cli_user_guide.md) for a full list of commands.

### MainNet Sync Node

You can run an AIngle MainNet node built from the source code with:

```shell
./aingle                          # Linux
./aingle-darwin-amd64             # MacOS
start aingle-windows-amd64.exe    # Windows
```

### TestNet Sync Node

You can run an AIngle TestNet node built from the source code with:

```shell
./aingle --networkid 2                        # Linux
./aingle-darwin-amd64 --networkid 2           # MacOS
 start aingle-windows-amd64.exe --networkid 2 # Windows
```

### Local PrivateNet

The AIngle CLI allows you to run a local PrivateNet on your computer. Before you can run the PrivateNet you will need to create a wallet file. A wallet file named `wallet.dat` can be generated by running

``` shell
./aingle account add -d
```

To start the PrivateNet built from the source code with:

```shell
./aingle --testmode                       # Linux
./aingle-darwin-amd64 --testmode          # MacOS
start aingle-windows-amd64.exe --testmode # Windows
```

Here's an example of the directory structure

``` shell
$ tree
└── aingle
    ├── aingle
    └── wallet.dat
```


### Run with Docker

You can run the AIngle node software with Docker.

1. Setup Docker on your computer
  - You will need the latest version of [Docker Desktop](https://www.docker.com/products/docker-desktop).

2. Make a Docker image
  - In the root directory of the source code, run `make docker` to make an AIngle image.

3. Run the AIngle image
  - Run the command `docker run aingle/aingle` to start AIngle
  - Run the command `docker run -ti aingle/aingle` to start AIngle and allow interactive keyboard input
  - If you need to keep the data generated by the image, refer to Docker's data persistence function
  - You can add arguments to the AIngle command, such as with `docker run aingle/aingle --networkid 2`.

## Examples

### ONT transfer sample
 -- from: transfer from； -- to: transfer to； -- amount: ONT amount；
```shell
 ./aingle asset transfer  --from=ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48 --to=AaCe8nVkMRABnp5YgEjYZ9E5KYCxks2uce --amount=10
```
If the asset transfer is successful, the result will display as follows:

```shell
Transfer ONT
  From:ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48
  To:AaCe8nVkMRABnp5YgEjYZ9E5KYCxks2uce
  Amount:10
  TxHash:437bff5dee9a1894ad421d55b8c70a2b7f34c574de0225046531e32faa1f94ce
```
TxHash is the transfer transaction hash, and we can query a transfer result by the TxHash.
Due to block time, the transfer transaction will not be executed before the block is generated and added.

If you want to transfer ONG, just add --asset=ong flag.


```shell
./aingle asset transfer --from=ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48 --to=ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48 --amount=95.479777254 --asset=ong
```
If transfer of the asset succeeds, the result will display as follows:

```shell
Transfer ONG
  From:ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48
  To:AaCe8nVkMRABnp5YgEjYZ9E5KYCxks2uce
  Amount:95.479777254
  TxHash:e4245d83607e6644c360b6007045017b5c5d89d9f0f5a9c3b37801018f789cc3
```

Please note, when you use the address of an account, you can use the index or label of the account instead. Index is the sequence number of a particular account in the wallet. The index starts from 1, and the label is the unique alias of an account in the wallet.

```shell
./aingle asset transfer --from=1 --to=2 --amount=10
```

### Query transfer status sample

```shell
./aingle info status <TxHash>
```

For Example:

```shell
./aingle info status 10dede8b57ce0b272b4d51ab282aaf0988a4005e980d25bd49685005cc76ba7f
```

Result:

```shell
Transaction:transfer success
From:AXkDGfr9thEqWmCKpTtQYaazJRwQzH48eC
To:AYiToLDT2yZuNs3PZieXcdTpyC5VWQmfaN
Amount:10
```

### Query account balance sample

```shell
./aingle asset balance <address|index|label>
```

For Example:

```shell
./aingle asset balance ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48
```

or

```shell
./aingle asset balance 1
```
Result:
```shell
BalanceOf:ARVVxBPGySL56CvSSWfjRVVyZYpNZ7zp48
  ONT:989979697
  ONG:28165900
```

